<!-- app/views/admin/products/_tag_selector.html.erb -->
<div
  class="bg-white p-6 rounded shadow"
  data-controller="tag-selector"
  data-tag-selector-product-id-value="<%= @product.id %>"
>
  <h2 class="text-xl font-semibold mb-4">Tags</h2>

  <!-- Current tags -->
  <div data-tag-selector-target="list" class="flex flex-wrap gap-2 mb-3">
    <%= render partial: 'admin/products/tag',
               collection: @product.tags,
               as: :tag,
               locals:   { product: @product } %>
  </div>

  <!-- New-tag input -->
  <input
    type="text"
    placeholder="Add a tag and press Enter"
    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
    data-action="keydown->tag-selector#handleKeydown"
    data-tag-selector-target="input"
  >
</div>
