<!-- app/views/sessions/new.html.erb -->

<div class="flex justify-center items-center min-h-screen bg-gray-100">
  <div class="w-full max-w-sm">
    <!-- Logo -->
    <div class="flex justify-center mb-6">
    <% if (logo = Setting.get('logo')) %>
      <%= link_to root_path do %>
        <%= image_tag url_for(logo), alt: 'Corporate Logo', class: 'h-24 max-h-[100px] w-auto object-contain' %>
      <% end %>
      <% else %>
<%= image_tag "railpress-background.png", alt: "Railpress background" %>

    <% end %>
        </div>

    <!-- Login Form -->
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
      <% if (logo = Setting.get('discord-client-id')) %>
      <form action="/auth/discord" method="post">
        <!-- Username Field -->
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
            Please login to access admin
          </label>
        </div>

        <!-- Login Button -->
        <div class="flex items-center justify-between">
          <%= button_to  '/auth/discord', method: :post, class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline',  data: { turbo: false } do %>
               Log in with your Discord account
          <% end %>
        </div>
      </form>
<% end %>

<% if Rails.application.credentials.dig(:twitch, :client_id).present? %>
  <div class="flex items-center justify-between">
    <%= button_to '/auth/twitch_login', 
        method: :get, 
        class: 'bg-purple-600 text-white font-bold py-2 px-4 rounded', 
        data: { turbo: false } do %>
      Log in with Twitch
    <% end %>
  </div>

<style>
.bg-purple-600{
  background-color:#8956FB;
}
</style>
  <% end %>



 <% if Setting.get('microsoft_client_id').present? %>

      <!-- Login with Microsoft -->
      <div class="flex items-center justify-between">
        <%= button_to '/auth/microsoft_graph', method: :post,
                      class: 'bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline',
                      data: { turbo: false } do %>
          Log in with your Microsoft account
        <% end %>
      </div>

      <% end %>

    </div>

    <!-- Links -->
    <div class="text-center">
      <a class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800" href="#">
        Register
      </a>
      |
      <a class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800" href="#">
        Lost your password?
      </a>
    </div>

    <!-- Back Link -->
    <div class="text-center mt-4">
      <a class="inline-block align-baseline font-bold text-sm text-gray-600 hover:text-gray-800" href="/">
        &larr; Back to Website
      </a>
    </div>
  </div>
</div>
